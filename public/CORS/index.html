<!DOCTYPE html>
<html lang="en">
<head>
  <link rel=stylesheet src="../style.css">
  <meta charset="UTF-8">
  <title>Bing | How to make my teacher happy</title>
</head>
<body>
  <h1>CORS Proxy test</h1>
  <form id="searchForm">
    <input type="text" id="queryInput" placeholder="Enter search or URL" size="50">
    <button type="submit">Go</button> <!-- go sounds better than search -->
  </form>

  <script>
    document.getElementById("searchForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const input = document.getElementById("queryInput").value.trim();
      const corsKey = "5d6e336a"; // hardcode da hoe
      let targetUrl;
      if (input.startsWith("http://") || input.startsWith("https://")) {
        targetUrl = input;
      } else {
        targetUrl = "https://duckduckgo.com/?q=" + encodeURIComponent(input); //fucka yea duckduckgo      
      }
      const proxyUrl = `/api/flow.js?q=https://corsproxy.io/?key=${corsKey}&url=${encodeURIComponent(targetUrl)}`; //cors is mid but its still a proxy
      window.location.href = proxyUrl; //yes it goes through my proxy bc 1.  It will still work as it should, and 2.  Taking all of herokuu is too much work.
    });
  </script>
</body>
</html>
